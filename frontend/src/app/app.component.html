<div class="container">
  <div *ngIf="testing" id="song-player">
    <audio volume={{scaledVolume}} id="testplayer" #testplayer class="player" autoplay controls [src]="songTestURL">
    </audio>
  </div>
  <div class="song-picker">
    <div *ngIf="songs && songs.a" (click)='pickSong("a", false)' id="song-a" class="song-picker-section section-a button">
      <div class="label">
        A
      </div>
      <div id="song-name-a">
        {{songs.a.title}}
      </div>
      <div id="artist-a">
        {{songs.a.artist}}
      </div>
      <div id="filename-a">
          {{songs.a.filename}}
      </div>
      <div id="song-info-a">
        <div id="elo-a">
          {{'elo: ' + songs.a.elo}}
        </div>
        <div id="n-a">
          {{'n: ' + songs.a.n}}
        </div>
      </div>
    </div>
    <hr>
    <div class="center-container">
      <div (click)='randomSong()' class="button small-button">
        Random
      </div>
      <div (click)='getNewSongs()' class="button small-button">
        Skip
      </div>
      <div (click)='clearQueue()' class="button small-button">
        Clear Queue
      </div>
      <div *ngIf='notStarted' (click)='togglePlay()' class="button small-button">
        Start
      </div>
      <div>
        Volume:
        <input (change)="adjustVolume()" [(ngModel)]="volume" type="number" name="volume" min="-20" max="10">
      </div>
      <div (click)='test()' class="button small-button">
        {{testing ? 'Stop Testing' : 'Test'}}
      </div>
    </div>
    <hr>
    <div *ngIf="songs && songs.b" (click)='pickSong("b", false)' id="song-b" class="song-picker-section section-b button">
      <div class="label">
        B
      </div>
      <div id="song-name-b">
        {{songs.b.title}}
      </div>
      <div id="artist-b">
        {{songs.b.artist}}
      </div>
      <div id="filename-b">
          {{songs.b.filename}}
      </div>
      <div id="song-info-b">
        <div id="elo-b">
          {{'elo: ' + songs.b.elo}}
        </div>
        <div id="n-b">
          {{'n: ' + songs.b.n}}
        </div>
      </div>
    </div>
  </div>
  <audio (ended)="advanceQueue()" autoplay volume={{scaledVolume}} id="player" class="player" controls [src]="songURL">
  </audio>
  <div class="queue">
    <div class="queue-song" *ngFor="let song of queue; let i = index" [class.active]="i == 0" [class.odd]="i % 2 == 1">
      {{song.title}}
    </div>
  </div>
</div>
